<!DOCTYPE html>
<html>
<head>
	<title>YUI 3 Input/Calendar Sync</title>
	<meta http-equiv=content-type content="text/html; charset=utf-8">

	<script src="http://yui.yahooapis.com/3.8.0/build/yui/yui-min.js"></script>
	<script src="gallery-input-calendar-sync-debug.js"></script>
	<script src="gallery-datetime-utils-debug.js"></script>
	<script src="gallery-node-event-set-debug.js"></script>
	<script src="gallery-funcprog-debug.js"></script>
	<script src="gallery-object-extras-debug.js"></script>
</head>
<body class="yui3-skin-sam">

<h1><a href="http://yuilibrary.com/gallery/show/input-calendar-sync">YUI 3 Input/Calendar Sync</a> Example</h1>

<p><a href="../yuidoc/modules/gallery-input-calendar-sync.html">Show me the documentation</a></p>
<p><a href="/yui-modules/">Back to project list</a></p>

<form onsubmit="return false;">
	<label for="date">Date:</label><input type="text" id="date" value="2012-1-1" />
	<div id="calendar"></div>
	<br>
	<label for="date2">Date:</label><input type="text" id="date2" placeholder="No date" />
	<div id="calendar2"></div>
</form>

<script type="text/javascript">
YUI({
//	filter: 'raw', combine: false,
	gallery: 'gallery-2013.04.03-19-53'
}).use(
	'gallery-input-calendar-sync', 'event-valuechange',
function(Y)
{
	var cal = new Y.Calendar(
	{
		width:         300,
		showPrevMonth: true,
		showNextMonth: true
	});
	cal.render('#calendar');

	var node = Y.one('#date');
	node.plug(Y.Plugin.InputCalendarSync,
	{
		calendar:   cal,
		allowBlank: false
	});

	// test compatibility with valuechange

	Y.one('#date').on('valuechange', function (e)
	{
		Y.log('previous value: ' + e.prevVal);
		Y.log('new value: ' + e.newVal);
	});

	// allow blank date

	var cal2 = new Y.Calendar(
	{
		width:         300,
		showPrevMonth: true,
		showNextMonth: true
	});
	cal2.render('#calendar2');

	var node2 = Y.one('#date2');
	node2.plug(Y.Plugin.InputCalendarSync,
	{
		calendar: cal2
	});
});
</script>

</body>
</html>
