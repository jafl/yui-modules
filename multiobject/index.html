<!DOCTYPE HTML>
<html>
<head>
	<title>YUI 3 MultiObject Example</title>
	<meta http-equiv=content-type content="text/html; charset=utf-8">

	<script src="https://jafl.github.io/yui3/build/yui/yui-min.js"></script>
	<link rel="stylesheet" type="text/css" href="https://jafl.github.io/yui3/build/cssreset/cssreset-min.css" />
	<link rel="stylesheet" type="text/css" href="https://jafl.github.io/yui3/build/cssfonts/cssfonts-min.css" />
	<link rel="stylesheet" type="text/css" href="https://jafl.github.io/yui3/build/cssbase/cssbase-min.css" />

	<script src="gallery-multiobject-debug.js"></script>
<!--
	<script src="gallery-paginator-debug.js"></script>
	<link rel="stylesheet" type="text/css" href="assets/gallery-paginator.css" />
-->
</head>
<body class="yui3-skin-sam">

<h1>YUI 3 MultiObject Example</h1>

<p><a href="../yuidoc/modules/gallery-multiobject.html">Show me the documentation</a></p>
<p><a href="/yui-modules/">Back to project list</a></p>

<div id="pg1"></div>
<hr>
<div id="pg2"></div>
<hr>
<div id="pg3"></div>
<hr>
<button id="set-page-3">Jump to page 3</button>
<hr>
<pre id="output"></pre>

<script type="text/javascript">
YUI({
//	filter: 'raw', combine: false,
	gallery: 'gallery-2014.02.20-23-55'
}).use('gallery-multiobject', 'gallery-paginator', function(Y)
{
	function update(
		/* object */	state)
	{
		this.setPage(state.page, true);
		this.setRowsPerPage(state.rowsPerPage, true);
	}

	var p1 = new Y.Paginator(
	{
		totalRecords: 25,
		rowsPerPage:5,
		template: '{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}'
	});
	p1.render('#pg1');

	var p2 = new Y.Paginator(
	{
		totalRecords: 25,
		rowsPerPage:5,
		template: '{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {CurrentPageInput} {NextPageLink} {LastPageLink}',
		firstPageLinkLabel:    '|&lt;',
		previousPageLinkLabel: '&lt;',
		nextPageLinkLabel:     '&gt;',
		lastPageLinkLabel:     '&gt;|'
	});
	p2.render('#pg2');

	var p3 = new Y.Paginator(
	{
		totalRecords: 25,
		rowsPerPage:5,
		template: '{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {ItemRangeDropdown} {NextPageLink} {LastPageLink}',
		firstPageLinkLabel:    '|&lt;',
		previousPageLinkLabel: '&lt;',
		nextPageLinkLabel:     '&gt;',
		lastPageLinkLabel:     '&gt;|'
	});
	p3.render('#pg3');

	var p = new Y.MultiObject([p1, p2, p3]);
	p.on('changeRequest', update, p);

	Y.one('#set-page-3').on('click', function(e)
	{
		this.setPage(3);
	},
	p2);

	// test API

	var log = '';

	log += p.getRowsPerPage();
	log += '<br>'+p.get('template');

	p.multi_set_primary_item_index(1);

	log += '<br><br>'+p.getRowsPerPage();
	log += '<br>'+p.get('template');

	p.multi_set_primary_item_index(0);
	p.multi_set_return_all_results(true);

	log += '<br><br>'+p.getRowsPerPage();
	log += '<br>'+p.get('template').join('<br>');

	p.multi_set_return_all_results(false);

	log += '<br><br>'+p.multi_get_all('getRowsPerPage');
	log += '<br>'+p.multi_get_all('get', 'template').join('<br>');

	Y.one('#output').set('innerHTML', log);
});
</script>

</body>
</html>
