<!DOCTYPE HTML>
<html>
<head>
	<title>YUI 3 QueryBuilder Example</title>
	<meta http-equiv=content-type content="text/html; charset=utf-8">

	<script src="http://yui.yahooapis.com/3.8.0/build/yui/yui-min.js"></script>
	<link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/3.8.0/build/cssreset/reset-min.css">
<!--
	<script src="gallery-querybuilder-debug.js"></script>
	<script src="gallery-formmgr-debug.js"></script>
	<script src="gallery-formmgr-css-validation-debug.js"></script>
	<script src="gallery-node-optimizations-debug.js"></script>
	<link rel="stylesheet" type="text/css" href="assets/gallery-querybuilder.css" />
-->
	<style type="text/css">
	#query
	{
		margin-top: 10px;
		border: 1px solid black;
		padding: 10px;
	}

	#controls
	{
		margin-top: 10px;
	}

	.plug
	{
		margin: 10px 0;
	}

	.yui3-aclist-aria
	{
		display: none;
	}
	</style>
</head>
<body class="yui3-skin-sam">

<h1><a href="http://yuilibrary.com/gallery/show/querybuilder">YUI 3 QueryBuilder</a> Example</h1>

<form name="query_form">
	<div id="query"></div>
</form>

<div id="controls">
	<button id="validate">Validate</button>
</div>

<p class="plug">For a more general way to build an expression, see <a href="http://yuilibrary.com/gallery/show/exprbuilder">Expression Builder</a>.

<p><a href="index.html">Show me an example using DataTable</a></p>
<p><a href="../yuidoc/modules/gallery-querybuilder.html">Show me the documentation</a></p>
<p><a href="/yui-modules/">Back to project list</a></p>

<script type="text/javascript">
YUI({
//	filter: 'raw', combine: false,
	gallery: 'gallery-2012.12.19-21-23'
}).use(
	'gallery-querybuilder',
	'autocomplete', 'autocomplete-filters', 'autocomplete-highlighters',
function(Y)
{
	var url_list =
	[
		'autos.yahoo.com',
		'bing.com',
		'cnn.com',
		'delicious.com',
		'facebook.com',
		'finance.yahoo.com',
		'flickr.com',
		'games.yahoo.com',
		'google.com',
		'health.yahoo.net',
		'mail.yahoo.com',
		'messenger.yahoo.com',
		'movies.yahoo.com',
		'netflix.com',
		'news.yahoo.com',
		'omg.yahoo.com',
		'pulse.yahoo.com',
		'realestate.yahoo.com',
		'reuters.com',
		'search.yahoo.com',
		'shine.yahoo.com',
		'shopping.yahoo.com',
		'sports.yahoo.com',
		'travel.yahoo.com',
		'twitter.com',
		'weather.yahoo.com',
		'yahoo.com',
		'yahoo.match.com'
	];

	var var_list =
	[
		{
			name: 'url',
			type: 'string',
			text: 'URL',
			validation: 'yiv-length:[,3000]',
			autocomplete:
			{
				source:             url_list,
				resultFilters:      'startsWith',
				resultHighlighter:  'phraseMatch',
				containerClassName: 'my-custom-class'
			}
		},
		{
			name: 'impressions',
			type: 'number',
			text: 'Impressions (1000\'s)',
			validation: 'yiv-integer'
		},
		{
			name: 'ctr',
			type: 'number',
			text: 'Click-through rate (%)',
			validation: 'yiv-decimal:[0,]'
		},
		{
			name: 'flag',
			type: 'select',
			text: 'Flagged',
			value_list:
			[
				{ value: "true",  text: 'True' },
				{ value: "false", text: 'False' }
			]
		},
		{
			name: 'submission_status',
			type: 'select',
			text: 'Status',
			value_list:
			[
				{ value: "I", text: 'Action Required' },
				{ value: "S", text: 'Submitted' },
				{ value: "A", text: 'Submission Accepted' },
				{ value: "B", text: 'Submission Auto-Accepted' }
			]
		}
	];

	var ops =
	{
		string:
		[
			{ value: 'equal',       text: 'Is' },
			{ value: 'contains',    text: 'Contains' },
			{ value: 'starts-with', text: 'Starts with' },
			{ value: 'ends-with',   text: 'Ends with' }
		],

		number:
		[
			{ value: 'equal',         text: '= Equals' },
			{ value: 'less',          text: '< Less than' },
			{ value: 'less-equal',    text: '<= Less than or equal to' },
			{ value: 'greater',       text: '> Greater than' },
			{ value: 'greater-equal', text: '>= Greater than or equal to' }
		],

		select:
		[
			'EQUALS'
		]
	};

	var query = new Y.QueryBuilder(var_list, ops);
	query.render('#query');

	// You could use Y.FormManager.validateForm() instead,
	// if this is part of a larger form.

	Y.on('click', query.validateFields, '#validate', query);
});
</script>

</body>
</html>
