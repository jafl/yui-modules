<!DOCTYPE html>
<html>
<head>
	<title>YUI 3 Node Set Event</title>
	<meta http-equiv=content-type content="text/html; charset=utf-8">

	<script src="https://jafl.github.io/yui3/build/yui/yui.js"></script>
	<script src="gallery-node-event-set-debug.js"></script>

	<style type="text/css">
	table { border-collapse:collapse; }
	th, td { border:1px solid black; margin:0; }
	</style>
</head>
<body class="yui3-skin-sam">

<h1>YUI 3 Node Set Event Performance</h1>

<p><a href="../yuidoc/modules/gallery-node-event-set.html">Show me the documentation</a></p>
<p><a href="/yui-modules/">Back to project list</a></p>

<p>Performance comparison for detecting *Set event (milliseconds for 1000000 iterations):</p>
<table id="perf">
<tr><th>Algo</th><th>Time</th></tr>
</table>

<script type="text/javascript">
YUI({
	filter: 'raw', combine: false
}).use(
	'gallery-node-event-set',
function(Y)
{
	// performance

	var perf = Y.one('#perf'),
		name = 'background-colorSet',
		j;

	var t1 = new Date().getTime();
	for (var i=0; i<1000000; i++)
	{
		if (Y.Lang.isString(name) && /Set$/.test(name))
		{
			j++;
		}
	}
	var t2 = new Date().getTime();

	perf.append('<tr><td>regexp</td><td>' + (t2-t1) + '</td></tr>');

	var t1 = new Date().getTime();
	for (var i=0; i<1000000; i++)
	{
		if (Y.Lang.isString(name) && name.length > 3 &&
			name.charAt(name.length-3) == 'S' &&
			name.charAt(name.length-2) == 'e' &&
			name.charAt(name.length-1) == 't')
		{
			j++;
		}
	}
	var t2 = new Date().getTime();

	perf.append('<tr><td>chars w/ isString</td><td>' + (t2-t1) + '</td></tr>');

	var t1 = new Date().getTime();
	for (var i=0; i<1000000; i++)
	{
		if (name.charAt && name.length > 3 &&
			name.charAt(name.length-3) == 'S' &&
			name.charAt(name.length-2) == 'e' &&
			name.charAt(name.length-1) == 't')
		{
			j++;
		}
	}
	var t2 = new Date().getTime();

	perf.append('<tr><td>chars w/ charAt</td><td>' + (t2-t1) + '</td></tr>');
});
</script>

</body>
</html>
