<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>src&#x2F;gallery-layout-rows&#x2F;js&#x2F;PageLayoutRows.js - YUI 3 Gallery Modules</title>
    <link rel="stylesheet" href="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;3.7.0&#x2F;build&#x2F;cssgrids&#x2F;cssgrids-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="..&#x2F;assets/favicon.png">
    <script src="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;combo?3.7.0&#x2F;build&#x2F;yui&#x2F;yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="..&#x2F;assets/css/logo.png" title="YUI 3 Gallery Modules"></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 1.0.0</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="..&#x2F;classes/Accordion.html">Accordion</a></li>
            
                <li><a href="..&#x2F;classes/AnimSequence.html">AnimSequence</a></li>
            
                <li><a href="..&#x2F;classes/ArrayIterator.html">ArrayIterator</a></li>
            
                <li><a href="..&#x2F;classes/ArrayList~extras.html">ArrayList~extras</a></li>
            
                <li><a href="..&#x2F;classes/Array~algorithms.html">Array~algorithms</a></li>
            
                <li><a href="..&#x2F;classes/Array~funcprog-extras.html">Array~funcprog-extras</a></li>
            
                <li><a href="..&#x2F;classes/Array~object-extras.html">Array~object-extras</a></li>
            
                <li><a href="..&#x2F;classes/Assert.html">Assert</a></li>
            
                <li><a href="..&#x2F;classes/AtLeastOneCheckboxGroup.html">AtLeastOneCheckboxGroup</a></li>
            
                <li><a href="..&#x2F;classes/AtMostOneCheckboxGroup.html">AtMostOneCheckboxGroup</a></li>
            
                <li><a href="..&#x2F;classes/BulkEditor.html">BulkEditor</a></li>
            
                <li><a href="..&#x2F;classes/Canvas.Context2d.html">Canvas.Context2d</a></li>
            
                <li><a href="..&#x2F;classes/CheckboxGroup.html">CheckboxGroup</a></li>
            
                <li><a href="..&#x2F;classes/Chipper.html">Chipper</a></li>
            
                <li><a href="..&#x2F;classes/ComplexMath.html">ComplexMath</a></li>
            
                <li><a href="..&#x2F;classes/ComplexNumber.html">ComplexNumber</a></li>
            
                <li><a href="..&#x2F;classes/DataSource.AsyncFunction.html">DataSource.AsyncFunction</a></li>
            
                <li><a href="..&#x2F;classes/DataSource.BulkEdit.html">DataSource.BulkEdit</a></li>
            
                <li><a href="..&#x2F;classes/DataSource.Treeble.html">DataSource.Treeble</a></li>
            
                <li><a href="..&#x2F;classes/DateTime.html">DateTime</a></li>
            
                <li><a href="..&#x2F;classes/DateTimeRange.html">DateTimeRange</a></li>
            
                <li><a href="..&#x2F;classes/DateTimeUtils.html">DateTimeUtils</a></li>
            
                <li><a href="..&#x2F;classes/EnableIfAnyCheckboxGroup.html">EnableIfAnyCheckboxGroup</a></li>
            
                <li><a href="..&#x2F;classes/ExpirationCache.html">ExpirationCache</a></li>
            
                <li><a href="..&#x2F;classes/ExpressionBuilder.html">ExpressionBuilder</a></li>
            
                <li><a href="..&#x2F;classes/FormManager.html">FormManager</a></li>
            
                <li><a href="..&#x2F;classes/HTMLTableBulkEditor.html">HTMLTableBulkEditor</a></li>
            
                <li><a href="..&#x2F;classes/InputPopup.html">InputPopup</a></li>
            
                <li><a href="..&#x2F;classes/InstanceManager.html">InstanceManager</a></li>
            
                <li><a href="..&#x2F;classes/io~multiresponse.html">io~multiresponse</a></li>
            
                <li><a href="..&#x2F;classes/Iterable.html">Iterable</a></li>
            
                <li><a href="..&#x2F;classes/LinkedList.html">LinkedList</a></li>
            
                <li><a href="..&#x2F;classes/LinkedListItem.html">LinkedListItem</a></li>
            
                <li><a href="..&#x2F;classes/LinkedListIterator.html">LinkedListIterator</a></li>
            
                <li><a href="..&#x2F;classes/LogFilter.html">LogFilter</a></li>
            
                <li><a href="..&#x2F;classes/Math.html">Math</a></li>
            
                <li><a href="..&#x2F;classes/MathCanvas.html">MathCanvas</a></li>
            
                <li><a href="..&#x2F;classes/MathCanvas.Parser.html">MathCanvas.Parser</a></li>
            
                <li><a href="..&#x2F;classes/MathCanvas.RectList.html">MathCanvas.RectList</a></li>
            
                <li><a href="..&#x2F;classes/MathFunction.html">MathFunction</a></li>
            
                <li><a href="..&#x2F;classes/MathFunction.Arccosine.html">MathFunction.Arccosine</a></li>
            
                <li><a href="..&#x2F;classes/MathFunction.Arcsine.html">MathFunction.Arcsine</a></li>
            
                <li><a href="..&#x2F;classes/MathFunction.Arctangent.html">MathFunction.Arctangent</a></li>
            
                <li><a href="..&#x2F;classes/MathFunction.Arctangent2.html">MathFunction.Arctangent2</a></li>
            
                <li><a href="..&#x2F;classes/MathFunction.Conjugate.html">MathFunction.Conjugate</a></li>
            
                <li><a href="..&#x2F;classes/MathFunction.Cosine.html">MathFunction.Cosine</a></li>
            
                <li><a href="..&#x2F;classes/MathFunction.E.html">MathFunction.E</a></li>
            
                <li><a href="..&#x2F;classes/MathFunction.Exponential.html">MathFunction.Exponential</a></li>
            
                <li><a href="..&#x2F;classes/MathFunction.FunctionWithArgs.html">MathFunction.FunctionWithArgs</a></li>
            
                <li><a href="..&#x2F;classes/MathFunction.HyperbolicCosine.html">MathFunction.HyperbolicCosine</a></li>
            
                <li><a href="..&#x2F;classes/MathFunction.HyperbolicSine.html">MathFunction.HyperbolicSine</a></li>
            
                <li><a href="..&#x2F;classes/MathFunction.HyperbolicTangent.html">MathFunction.HyperbolicTangent</a></li>
            
                <li><a href="..&#x2F;classes/MathFunction.I.html">MathFunction.I</a></li>
            
                <li><a href="..&#x2F;classes/MathFunction.ImaginaryPart.html">MathFunction.ImaginaryPart</a></li>
            
                <li><a href="..&#x2F;classes/MathFunction.InverseHyperbolicCosine.html">MathFunction.InverseHyperbolicCosine</a></li>
            
                <li><a href="..&#x2F;classes/MathFunction.InverseHyperbolicSine.html">MathFunction.InverseHyperbolicSine</a></li>
            
                <li><a href="..&#x2F;classes/MathFunction.InverseHyperbolicTangent.html">MathFunction.InverseHyperbolicTangent</a></li>
            
                <li><a href="..&#x2F;classes/MathFunction.Logarithm.html">MathFunction.Logarithm</a></li>
            
                <li><a href="..&#x2F;classes/MathFunction.Magnitude.html">MathFunction.Magnitude</a></li>
            
                <li><a href="..&#x2F;classes/MathFunction.Max.html">MathFunction.Max</a></li>
            
                <li><a href="..&#x2F;classes/MathFunction.Min.html">MathFunction.Min</a></li>
            
                <li><a href="..&#x2F;classes/MathFunction.NaturalLog.html">MathFunction.NaturalLog</a></li>
            
                <li><a href="..&#x2F;classes/MathFunction.Negate.html">MathFunction.Negate</a></li>
            
                <li><a href="..&#x2F;classes/MathFunction.Phase.html">MathFunction.Phase</a></li>
            
                <li><a href="..&#x2F;classes/MathFunction.Pi.html">MathFunction.Pi</a></li>
            
                <li><a href="..&#x2F;classes/MathFunction.Product.html">MathFunction.Product</a></li>
            
                <li><a href="..&#x2F;classes/MathFunction.Quotient.html">MathFunction.Quotient</a></li>
            
                <li><a href="..&#x2F;classes/MathFunction.RealPart.html">MathFunction.RealPart</a></li>
            
                <li><a href="..&#x2F;classes/MathFunction.Rotate.html">MathFunction.Rotate</a></li>
            
                <li><a href="..&#x2F;classes/MathFunction.Sine.html">MathFunction.Sine</a></li>
            
                <li><a href="..&#x2F;classes/MathFunction.SquareRoot.html">MathFunction.SquareRoot</a></li>
            
                <li><a href="..&#x2F;classes/MathFunction.Sum.html">MathFunction.Sum</a></li>
            
                <li><a href="..&#x2F;classes/MathFunction.Tangent.html">MathFunction.Tangent</a></li>
            
                <li><a href="..&#x2F;classes/MathFunction.Value.html">MathFunction.Value</a></li>
            
                <li><a href="..&#x2F;classes/MathFunction.Variable.html">MathFunction.Variable</a></li>
            
                <li><a href="..&#x2F;classes/MatrixBackground.html">MatrixBackground</a></li>
            
                <li><a href="..&#x2F;classes/MatrixCredits.html">MatrixCredits</a></li>
            
                <li><a href="..&#x2F;classes/MRUCache.html">MRUCache</a></li>
            
                <li><a href="..&#x2F;classes/MultiObject.html">MultiObject</a></li>
            
                <li><a href="..&#x2F;classes/NodeList~extras2.html">NodeList~extras2</a></li>
            
                <li><a href="..&#x2F;classes/Node~dimensions.html">Node~dimensions</a></li>
            
                <li><a href="..&#x2F;classes/Node~event-set.html">Node~event-set</a></li>
            
                <li><a href="..&#x2F;classes/Node~optimizations.html">Node~optimizations</a></li>
            
                <li><a href="..&#x2F;classes/Node~scrollIntoView.html">Node~scrollIntoView</a></li>
            
                <li><a href="..&#x2F;classes/Object~extras.html">Object~extras</a></li>
            
                <li><a href="..&#x2F;classes/PageLayout.html">PageLayout</a></li>
            
                <li><a href="..&#x2F;classes/Paginator.ui.CurrentPageInput.html">Paginator.ui.CurrentPageInput</a></li>
            
                <li><a href="..&#x2F;classes/Paginator.ui.CurrentPageReport.html">Paginator.ui.CurrentPageReport</a></li>
            
                <li><a href="..&#x2F;classes/Paginator.ui.FirstPageLink.html">Paginator.ui.FirstPageLink</a></li>
            
                <li><a href="..&#x2F;classes/Paginator.ui.ItemRangeDropdown.html">Paginator.ui.ItemRangeDropdown</a></li>
            
                <li><a href="..&#x2F;classes/Paginator.ui.LastPageLink.html">Paginator.ui.LastPageLink</a></li>
            
                <li><a href="..&#x2F;classes/Paginator.ui.NextPageLink.html">Paginator.ui.NextPageLink</a></li>
            
                <li><a href="..&#x2F;classes/Paginator.ui.PageLinks.html">Paginator.ui.PageLinks</a></li>
            
                <li><a href="..&#x2F;classes/Paginator.ui.PreviousPageLink.html">Paginator.ui.PreviousPageLink</a></li>
            
                <li><a href="..&#x2F;classes/Paginator.ui.RowsPerPageDropdown.html">Paginator.ui.RowsPerPageDropdown</a></li>
            
                <li><a href="..&#x2F;classes/Paginator.ui.ValidationPageLinks.html">Paginator.ui.ValidationPageLinks</a></li>
            
                <li><a href="..&#x2F;classes/Parsers.html">Parsers</a></li>
            
                <li><a href="..&#x2F;classes/Plugin.BusyOverlay.html">Plugin.BusyOverlay</a></li>
            
                <li><a href="..&#x2F;classes/Plugin.ConsoleTest.html">Plugin.ConsoleTest</a></li>
            
                <li><a href="..&#x2F;classes/Plugin.DataTableQuickEdit.html">Plugin.DataTableQuickEdit</a></li>
            
                <li><a href="..&#x2F;classes/Plugin.DataTableRowExpansion.html">Plugin.DataTableRowExpansion</a></li>
            
                <li><a href="..&#x2F;classes/Plugin.DataTableState.html">Plugin.DataTableState</a></li>
            
                <li><a href="..&#x2F;classes/Plugin.FixedSizeAccordion.html">Plugin.FixedSizeAccordion</a></li>
            
                <li><a href="..&#x2F;classes/Plugin.InputCalendarSync.html">Plugin.InputCalendarSync</a></li>
            
                <li><a href="..&#x2F;classes/Plugin.Neon.html">Plugin.Neon</a></li>
            
                <li><a href="..&#x2F;classes/Plugin.NodeFXSequence.html">Plugin.NodeFXSequence</a></li>
            
                <li><a href="..&#x2F;classes/Plugin.OverlayForm.html">Plugin.OverlayForm</a></li>
            
                <li><a href="..&#x2F;classes/Plugin.PageLayoutDataTableModule.html">Plugin.PageLayoutDataTableModule</a></li>
            
                <li><a href="..&#x2F;classes/Popup.html">Popup</a></li>
            
                <li><a href="..&#x2F;classes/QueryBuilder.html">QueryBuilder</a></li>
            
                <li><a href="..&#x2F;classes/QueryBuilder.MultiselectInput.html">QueryBuilder.MultiselectInput</a></li>
            
                <li><a href="..&#x2F;classes/QueryBuilder.Select.html">QueryBuilder.Select</a></li>
            
                <li><a href="..&#x2F;classes/QueryBuilder.String.html">QueryBuilder.String</a></li>
            
                <li><a href="..&#x2F;classes/RPC.Mojito.html">RPC.Mojito</a></li>
            
                <li><a href="..&#x2F;classes/SelectAllCheckboxGroup.html">SelectAllCheckboxGroup</a></li>
            
                <li><a href="..&#x2F;classes/Sort.html">Sort</a></li>
            
                <li><a href="..&#x2F;classes/Treeble.html">Treeble</a></li>
            
                <li><a href="..&#x2F;classes/YUI~funcprog.html">YUI~funcprog</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="..&#x2F;modules/gallery-accordion-horiz-vert.html">gallery-accordion-horiz-vert</a></li>
            
                <li><a href="..&#x2F;modules/gallery-algorithms.html">gallery-algorithms</a></li>
            
                <li><a href="..&#x2F;modules/gallery-anim-class.html">gallery-anim-class</a></li>
            
                <li><a href="..&#x2F;modules/gallery-anim-sequence.html">gallery-anim-sequence</a></li>
            
                <li><a href="..&#x2F;modules/gallery-bulkedit.html">gallery-bulkedit</a></li>
            
                <li><a href="..&#x2F;modules/gallery-busyoverlay.html">gallery-busyoverlay</a></li>
            
                <li><a href="..&#x2F;modules/gallery-canvas.html">gallery-canvas</a></li>
            
                <li><a href="..&#x2F;modules/gallery-checkboxgroups.html">gallery-checkboxgroups</a></li>
            
                <li><a href="..&#x2F;modules/gallery-chipper.html">gallery-chipper</a></li>
            
                <li><a href="..&#x2F;modules/gallery-complexnumber.html">gallery-complexnumber</a></li>
            
                <li><a href="..&#x2F;modules/gallery-console-test.html">gallery-console-test</a></li>
            
                <li><a href="..&#x2F;modules/gallery-datasource-async-function.html">gallery-datasource-async-function</a></li>
            
                <li><a href="..&#x2F;modules/gallery-datatable-row-expansion.html">gallery-datatable-row-expansion</a></li>
            
                <li><a href="..&#x2F;modules/gallery-datatable-state.html">gallery-datatable-state</a></li>
            
                <li><a href="..&#x2F;modules/gallery-datetime.html">gallery-datetime</a></li>
            
                <li><a href="..&#x2F;modules/gallery-datetime-range.html">gallery-datetime-range</a></li>
            
                <li><a href="..&#x2F;modules/gallery-datetime-utils.html">gallery-datetime-utils</a></li>
            
                <li><a href="..&#x2F;modules/gallery-dimensions.html">gallery-dimensions</a></li>
            
                <li><a href="..&#x2F;modules/gallery-expiration-cache.html">gallery-expiration-cache</a></li>
            
                <li><a href="..&#x2F;modules/gallery-exprbuilder.html">gallery-exprbuilder</a></li>
            
                <li><a href="..&#x2F;modules/gallery-formmgr.html">gallery-formmgr</a></li>
            
                <li><a href="..&#x2F;modules/gallery-formmgr-css-validation.html">gallery-formmgr-css-validation</a></li>
            
                <li><a href="..&#x2F;modules/gallery-formmgr-overlay-plugin.html">gallery-formmgr-overlay-plugin</a></li>
            
                <li><a href="..&#x2F;modules/gallery-funcprog.html">gallery-funcprog</a></li>
            
                <li><a href="..&#x2F;modules/gallery-input-calendar-sync.html">gallery-input-calendar-sync</a></li>
            
                <li><a href="..&#x2F;modules/gallery-instancemanager.html">gallery-instancemanager</a></li>
            
                <li><a href="..&#x2F;modules/gallery-io-multiresponse.html">gallery-io-multiresponse</a></li>
            
                <li><a href="..&#x2F;modules/gallery-iterable-extras.html">gallery-iterable-extras</a></li>
            
                <li><a href="..&#x2F;modules/gallery-layout.html">gallery-layout</a></li>
            
                <li><a href="..&#x2F;modules/gallery-layout-cols.html">gallery-layout-cols</a></li>
            
                <li><a href="..&#x2F;modules/gallery-layout-datatable.html">gallery-layout-datatable</a></li>
            
                <li><a href="..&#x2F;modules/gallery-layout-rows.html">gallery-layout-rows</a></li>
            
                <li><a href="..&#x2F;modules/gallery-linkedlist.html">gallery-linkedlist</a></li>
            
                <li><a href="..&#x2F;modules/gallery-log-filter.html">gallery-log-filter</a></li>
            
                <li><a href="..&#x2F;modules/gallery-math.html">gallery-math</a></li>
            
                <li><a href="..&#x2F;modules/gallery-mathcanvas.html">gallery-mathcanvas</a></li>
            
                <li><a href="..&#x2F;modules/gallery-matrix-background.html">gallery-matrix-background</a></li>
            
                <li><a href="..&#x2F;modules/gallery-matrix-credits.html">gallery-matrix-credits</a></li>
            
                <li><a href="..&#x2F;modules/gallery-mojito-rpc.html">gallery-mojito-rpc</a></li>
            
                <li><a href="..&#x2F;modules/gallery-mru-cache.html">gallery-mru-cache</a></li>
            
                <li><a href="..&#x2F;modules/gallery-multiobject.html">gallery-multiobject</a></li>
            
                <li><a href="..&#x2F;modules/gallery-neon.html">gallery-neon</a></li>
            
                <li><a href="..&#x2F;modules/gallery-node-event-set.html">gallery-node-event-set</a></li>
            
                <li><a href="..&#x2F;modules/gallery-node-optimizations.html">gallery-node-optimizations</a></li>
            
                <li><a href="..&#x2F;modules/gallery-nodelist-extras2.html">gallery-nodelist-extras2</a></li>
            
                <li><a href="..&#x2F;modules/gallery-object-extras.html">gallery-object-extras</a></li>
            
                <li><a href="..&#x2F;modules/gallery-paginator.html">gallery-paginator</a></li>
            
                <li><a href="..&#x2F;modules/gallery-popup.html">gallery-popup</a></li>
            
                <li><a href="..&#x2F;modules/gallery-querybuilder.html">gallery-querybuilder</a></li>
            
                <li><a href="..&#x2F;modules/gallery-querybuilder-multiselect-input.html">gallery-querybuilder-multiselect-input</a></li>
            
                <li><a href="..&#x2F;modules/gallery-quickedit.html">gallery-quickedit</a></li>
            
                <li><a href="..&#x2F;modules/gallery-scrollintoview.html">gallery-scrollintoview</a></li>
            
                <li><a href="..&#x2F;modules/gallery-sort-extras.html">gallery-sort-extras</a></li>
            
                <li><a href="..&#x2F;modules/gallery-test-extras.html">gallery-test-extras</a></li>
            
                <li><a href="..&#x2F;modules/gallery-treeble.html">gallery-treeble</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: src&#x2F;gallery-layout-rows&#x2F;js&#x2F;PageLayoutRows.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
&quot;use strict&quot;;

var has_no_recalc_auto_bug    = (0 &lt; Y.UA.ie &amp;&amp; Y.UA.ie &lt; 8),
	has_explosive_modules_bug = (0 &lt; Y.UA.ie &amp;&amp; Y.UA.ie &lt; 8),
	is_borked_dom_access      = (0 &lt; Y.UA.ie &amp;&amp; Y.UA.ie &lt; 8);

&#x2F;**
 * PageLayout plugin for managing vertically stacked rows on a page,
 * sandwiched vertically between header and footer.  Each row contains one
 * or more modules.
 * 
 * @module gallery-layout
 * @submodule gallery-layout-rows
 *&#x2F;

Y.namespace(&#x27;PageLayoutRows&#x27;);

&#x2F;&#x2F; must be done after defining Y.PageLayoutRows

Y.PageLayoutRows.collapse_classes =
{
	vert_parent_class:       Y.PageLayout.module_rows_class,
	horiz_parent_class:      Y.PageLayout.module_class,
	collapse_parent_pattern: Y.PageLayout.expand_vert_nub_class
};

function adjustHeight(
	&#x2F;* int *&#x2F;		total_height,
	&#x2F;* object *&#x2F;	children)
{
	var h = total_height;

	if (is_borked_dom_access)
	{
		var access_dom_so_it_will_be_right_next_time = children.bd.get(&#x27;offsetHeight&#x27;);
	}

	var b = children.root.get(&#x27;offsetHeight&#x27;) - children.bd.get(&#x27;offsetHeight&#x27;);

	if (children.hd)
	{
		h -= children.hd.get(&#x27;offsetHeight&#x27;);
		b -= children.hd.get(&#x27;offsetHeight&#x27;);
	}
	if (children.ft)
	{
		h -= children.ft.get(&#x27;offsetHeight&#x27;);
		b -= children.ft.get(&#x27;offsetHeight&#x27;);
	}

	h -= b;

	h -= children.bd.vertMarginBorderPadding();

	return Math.max(h, Y.PageLayout.min_module_height);
}

function getWidth(
	&#x2F;* int *&#x2F;		body_width,
	&#x2F;* array *&#x2F;		col_widths,
	&#x2F;* int *&#x2F;		row_index,
	&#x2F;* int *&#x2F;		col_index,
	&#x2F;* object *&#x2F;	module,
	&#x2F;* object *&#x2F;	module_info)
{
	module_info.mbp = module.horizMarginBorderPadding();
	return Math.max(1, Math.floor(body_width * col_widths[ row_index ][ col_index ] &#x2F; 100.0) - module_info.mbp);
}

Y.PageLayoutRows.resize = function(
	&#x2F;* enum *&#x2F;			mode,
	&#x2F;* int *&#x2F;			body_width,
	&#x2F;* int *&#x2F;			body_height)
{
	var row_count = this.body_info.outers.size();

	&#x2F;&#x2F; reset module heights
	&#x2F;&#x2F; adjust for horizontally collapsed or fixed width modules

	var col_widths = [],
		row_widths = [];
	for (var i=0; i&lt;row_count; i++)
	{
		var widths = this.body_info.inner_sizes[i].slice(0);
		col_widths.push(widths);
		row_widths.push(body_width);

		var uncollapsed_count = 0,
			sum               = 0;

		var modules = this.body_info.modules[i];
		var count   = modules.size();
		for (var j=0; j&lt;count; j++)
		{
			var module = modules.item(j);
			module.setStyle(&#x27;height&#x27;, &#x27;auto&#x27;);
			if (module.hasClass(Y.PageLayout.collapsed_horiz_class))
			{
				if (has_no_recalc_auto_bug)
				{
					module.setStyle(&#x27;display&#x27;, &#x27;none&#x27;);
				}
				module.setStyle(&#x27;width&#x27;, &#x27;auto&#x27;);
				if (has_no_recalc_auto_bug)
				{
					module.setStyle(&#x27;display&#x27;, &#x27;block&#x27;);
				}
				widths[j]      = - module.get(&#x27;offsetWidth&#x27;);
				row_widths[i] -= module.totalWidth();
			}
			else if (widths[j] &gt; 0)
			{
				uncollapsed_count++;
				sum += widths[j];
			}
		}

		if (uncollapsed_count &lt; count)
		{
			for (var j=0; j&lt;count; j++)
			{
				if (widths[j] &gt; 0)
				{
					widths[j] *= (100.0 &#x2F; sum);
				}
			}
		}
	}

	&#x2F;&#x2F; smart fit:  if only one module, fit-to-content until it won&#x27;t fit inside viewport

	var module_info = {};
	if (this.single_module)
	{
		var module   = this.body_info.modules[0].item(0);
		var children = module._page_layout.children;
		if (children.bd)
		{
			var w  = getWidth(row_widths[0], col_widths, 0, 0, module, module_info);
			var w1 = Math.max(1, w - children.bd.horizMarginBorderPadding());
			this.fire(&#x27;beforeResizeModule&#x27;, { bd: children.bd, height: &#x27;auto&#x27;, width: w1 });
			this._setWidth(children, w);
			children.root.setStyle(&#x27;height&#x27;, &#x27;auto&#x27;);
			children.bd.setStyle(&#x27;height&#x27;, &#x27;auto&#x27;);
		}

		var h = module.totalHeight();
		mode  = (h &gt; body_height ? Y.PageLayout.FIT_TO_VIEWPORT : Y.PageLayout.FIT_TO_CONTENT);

		this.body_container.removeClass(&#x27;FIT_TO_[A-Z_]+&#x27;);
	}

	&#x2F;&#x2F; fit-to-content:  compute height of each row; requires setting module widths
	&#x2F;&#x2F; fit-to-viewport: adjust for vertically collapsed modules

	if (mode === Y.PageLayout.FIT_TO_CONTENT)
	{
		var row_heights = [];
		for (var i=0; i&lt;row_count; i++)
		{
			this.body_info.outers.item(i).setStyle(&#x27;height&#x27;, &#x27;auto&#x27;);

			var modules    = this.body_info.modules[i];
			var h          = 0;
			var total_w    = 0;
			var open_count = modules.size();
			var count      = open_count;
			for (var j=0; j&lt;count; j++)
			{
				var w      = col_widths[i][j];
				var module = modules.item(j);
				if (w &lt; 0)
				{
					var total_w_hacked = false;
					if (w == Y.PageLayout.unmanaged_size &amp;&amp; has_explosive_modules_bug)
					{
						var children = module._page_layout.children;
						if (children.bd)
						{
							var bd_w = children.bd.totalWidth();
							total_w += bd_w + module.horizMarginBorderPadding();
							total_w_hacked = true;

							children.root.setStyle(&#x27;width&#x27;, bd_w+&#x27;px&#x27;);
						}
					}

					if (!total_w_hacked)
					{
						total_w += module.totalWidth();
					}
					open_count--;
				}
			}

			var k = 0;
			for (var j=0; j&lt;count; j++)
			{
				var w      = col_widths[i][j];
				var module = modules.item(j);
				if (w &lt; 0)
				{
					if (w == Y.PageLayout.unmanaged_size)
					{
						var children = module._page_layout.children;
						if (children.bd)
						{
							children.root.setStyle(&#x27;height&#x27;, &#x27;auto&#x27;);
							children.bd.setStyle(&#x27;height&#x27;, &#x27;auto&#x27;);
						}

						h = Math.max(h, module.get(&#x27;offsetHeight&#x27;));
					}
					continue;
				}
				k++;

				var children = module._page_layout.children;
				if (children.bd)
				{
					var w    = getWidth(row_widths[i], col_widths, i, j, module, module_info);
					total_w += w + module_info.mbp;

					if (k == open_count)
					{
						w += body_width - total_w;
					}

					var w1 = Math.max(1, w - children.bd.horizMarginBorderPadding());
					this.fire(&#x27;beforeResizeModule&#x27;, { bd: children.bd, height: &#x27;auto&#x27;, width: w1 });
					this._setWidth(children, w);
					children.root.setStyle(&#x27;height&#x27;, &#x27;auto&#x27;);
					children.bd.setStyle(&#x27;height&#x27;, &#x27;auto&#x27;);
				}

				h = Math.max(h, module.get(&#x27;offsetHeight&#x27;));
			}

			row_heights.push(h);
		}
	}
	else
	{
		var row_heights = this.body_info.outer_sizes.slice(0);

		var uncollapsed_count = 0,
			sum               = 0;
		for (var i=0; i&lt;row_count; i++)
		{
			var row       = this.body_info.outers.item(i);
			var collapsed = row.hasClass(Y.PageLayout.collapsed_vert_class);
			if (collapsed || row_heights[i] &lt; 0)
			{
				row_heights[i] = 0;
				if (collapsed)
				{
					row.setStyle(&#x27;height&#x27;, &#x27;auto&#x27;);
				}

				&#x2F;&#x2F; We cannot compute the height of row directly
				&#x2F;&#x2F; because the row above might be wrapping.

				body_height -= row.one(&#x27;*&#x27;).totalHeight();
				body_height -= row.vertMarginBorderPadding();
			}
			else
			{
				uncollapsed_count++;
				sum += row_heights[i];
			}
		}

		if (uncollapsed_count &lt; row_count)
		{
			for (var i=0; i&lt;row_count; i++)
			{
				row_heights[i] *= (100.0 &#x2F; sum);
			}
		}
	}

	&#x2F;&#x2F; set height of each row and size of each module

	for (var i=0; i&lt;row_count; i++)
	{
		if (mode === Y.PageLayout.FIT_TO_CONTENT)
		{
			var h = row_heights[i];
		}
		else
		{
			if (row_heights[i] === 0)
			{
				var module   = this.body_info.modules[i].item(0);
				var children = module._page_layout.children;
				if (children.bd)
				{
					var h1 = children.bd.insideHeight();
					var w  = getWidth(row_widths[i], col_widths, i, 0, module, module_info);
					var w1 = Math.max(1, w - children.bd.horizMarginBorderPadding());
					this.fire(&#x27;beforeResizeModule&#x27;, { bd: children.bd, height: h1, width: w1 });
					this._setWidth(children, w);
					this.fire(&#x27;afterResizeModule&#x27;, { bd: children.bd, height: h1, width: w1 });
				}
				continue;
			}

			var h = Math.max(1, Math.floor(body_height * row_heights[i] &#x2F; 100.0) - this.body_info.outers.item(i).vertMarginBorderPadding());
		}
		this.body_info.outers.item(i).setStyle(&#x27;height&#x27;, h+&#x27;px&#x27;);

		&#x2F;&#x2F; adjust for horizontally collapsed or fixed width modules

		var modules    = this.body_info.modules[i];
		var total_w    = 0;
		var open_count = modules.size();
		var count      = open_count;
		for (var j=0; j&lt;count; j++)
		{
			var w      = col_widths[i][j];
			var module = modules.item(j);
			if (w &lt; 0)
			{
				var total_w_hacked = false;
				if (w == Y.PageLayout.unmanaged_size)
				{
					var children = module._page_layout.children;
					if (children.bd)
					{
						var h1 = adjustHeight(h, children);
						var w1 = children.bd.insideWidth();
						this.fire(&#x27;beforeResizeModule&#x27;, { bd: children.bd, height: h1, width: w1 });
						children.bd.setStyle(&#x27;height&#x27;, h1+&#x27;px&#x27;);

						if (has_explosive_modules_bug)
						{
							var bd_w = children.bd.totalWidth();
							total_w += bd_w + module.horizMarginBorderPadding();
							total_w_hacked = true;

							children.root.setStyle(&#x27;width&#x27;, bd_w+&#x27;px&#x27;);
						}

						this.fire(&#x27;afterResizeModule&#x27;, { bd: children.bd, height: h1, width: w1 });
					}
				}
				else
				{
					module.setStyle(&#x27;height&#x27;, Math.max(1, h - module.vertMarginBorderPadding())+&#x27;px&#x27;);
				}

				if (!total_w_hacked)
				{
					total_w += module.totalWidth();
				}
				open_count--;
			}
		}

		&#x2F;&#x2F; set the size of each module

		var k = 0;
		for (var j=0; j&lt;count; j++)
		{
			if (col_widths[i][j] &lt; 0)
			{
				continue;
			}
			k++;

			var module   = modules.item(j);
			var children = module._page_layout.children;
			if (children.bd)
			{
				var h1   = adjustHeight(h, children);
				var w    = getWidth(row_widths[i], col_widths, i, j, module, module_info);
				total_w += w + module_info.mbp;

				if (k == open_count)
				{
					w += body_width - total_w;
				}

				var w1 = Math.max(1, w - children.bd.horizMarginBorderPadding());
				if (mode === Y.PageLayout.FIT_TO_VIEWPORT)
				{
					this.fire(&#x27;beforeResizeModule&#x27;, { bd: children.bd, height: h1, width: w1 });
					this._setWidth(children, w);
				}

				children.bd.setStyle(&#x27;height&#x27;, h1+&#x27;px&#x27;);

				this.fire(&#x27;afterResizeModule&#x27;, { bd: children.bd, height: h1, width: w1 });
			}
		}
	}
};

    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="..&#x2F;assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="..&#x2F;assets/js/yui-prettify.js"></script>
<script src="..&#x2F;assets/../api.js"></script>
<script src="..&#x2F;assets/js/api-filter.js"></script>
<script src="..&#x2F;assets/js/api-list.js"></script>
<script src="..&#x2F;assets/js/api-search.js"></script>
<script src="..&#x2F;assets/js/apidocs.js"></script>
</body>
</html>
