<!DOCTYPE HTML>
<html>

<head>
	<title>YUI 3 Multi-response Example</title>
	<meta http-equiv=content-type content="text/html; charset=utf-8">

	<script src="http://jafl.github.io/yui3/build/yui/yui-min.js"></script>
	<script src="gallery-io-multiresponse-debug.js"></script>
</head>

<body>

<h1><a href="http://yuilibrary.com/gallery/show/io-multiresponse">YUI 3 IO Multi-response</a> Example</h1>

<p><a href="../yuidoc/modules/gallery-io-multiresponse.html">Show me the documentation</a></p>
<p><a href="multi_response_php.html">Show me the sample PHP implementation</a></p>
<p><a href="/yui-modules/">Back to project list</a></p>

<p>Responses from simulated-multi-response.html:</p>
<div id="responses"></div>

<script type="text/javascript">
YUI({
//	filter: 'raw', combine: false
}).use('gallery-io-multiresponse', 'json', 'querystring', function(Y)
{
	// Use "Live HTTP Headers" in Firefox to see the query args (data and
	// json) that is sent to the server.

	Y.io('simulated-multi-response.html',
	{
		method: 'GET',
		multiresponse: true,
		debug: true,	// to keep iframe after finished loading
		data:
		{
			a:1,
			x:'y'
		},
		json:
		{
			b:2,
			y:'z'
		},
		on:
		{
			response: function(id, data, obj)
			{
				Y.one('#responses').appendChild(
					Y.Node.create('<p>' + obj.response.foo + ':' + data + '</p>'));
			}
		},
		arguments:
		{
			response:
			{
				foo: 'x',
				bar: 'y'
			}
		}
	});
});
</script>

</body>
</html>
